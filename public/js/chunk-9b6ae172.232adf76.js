(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9b6ae172"],{"4dc3":function(t,a,e){},6346:function(t,a,e){"use strict";var i=e("4dc3"),r=e.n(i);r.a},"857a":function(t,a,e){var i=e("1d80"),r=/"/g;t.exports=function(t,a,e,s){var n=String(i(t)),o="<"+a;return""!==e&&(o+=" "+e+'="'+String(s).replace(r,"&quot;")+'"'),o+">"+n+"</"+a+">"}},9911:function(t,a,e){"use strict";var i=e("23e7"),r=e("857a"),s=e("af03");i({target:"String",proto:!0,forced:s("link")},{link:function(t){return r(this,"a","href",t)}})},af03:function(t,a,e){var i=e("d039");t.exports=function(t){return i((function(){var a=""[t]('"');return a!==a.toLowerCase()||a.split('"').length>3}))}},c66d:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.myProfile?e("div",[e("div",{staticClass:"bg-gray-1 pt-5 pb-5 pl-4 pr-4",attrs:{id:"profile"}},[e("img",{staticClass:"rounded-circle",attrs:{src:t.myProfile.avatar}}),t.myProfile.isVerified?e("div",{staticClass:"profile__info mt-3"},[e("div",{staticClass:"profile__info__name mb-3"},[e("p",{staticClass:"info__name fontweight-2 fontsize-5 mr-2"},[t._v(t._s(t.myProfile.name))]),e("i",{staticClass:"fas fa-user-check"})]),e("p",{staticClass:"info__email gray-8"},[t._v(t._s(t.myProfile.email))])]):e("div",{staticClass:"profile__info mt-3"},[e("div",{staticClass:"profile__info__name mb-2"},[e("p",{staticClass:"info__name fontweight-2 fontsize-5 mr-2"},[t._v(t._s(t.myProfile.name))])]),e("p",{staticClass:"info__email gray-8"},[t._v(t._s(t.myProfile.email))]),e("p",{attrs:{id:"verifyEmail"},on:{click:t.verifyEmail}},[t._v("Xác nhận email")])]),e("button",{staticClass:"mt-3 btn btn-dark btn-lg btn-block",attrs:{"data-toggle":"modal","data-target":"#uploadAvatarModal"}},[t._v("Upload avatar")])]),e("div",{staticClass:"modal fade",attrs:{id:"uploadAvatarModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[t._m(0),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"form-group"},[e("input",{ref:"avatar",staticClass:"form-control-file",attrs:{type:"file",id:"avatarFile",name:"avatar"},on:{change:t.handleUploadAvatar}})])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),t.isLoading?e("button",{staticClass:"buttonload btn btn-primary",attrs:{type:"button"},on:{click:t.submitAvatar}},[e("i",{staticClass:"fa fa-spinner fa-spin mr-2"}),t._v("Loading ")]):e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.submitAvatar}},[t._v("Save changes")])])])])])]):t._e()},r=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Upload Avatar")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],s=(e("9911"),e("96cf"),e("1da1")),n=e("5530"),o=e("bc3a"),l=e.n(o),c=e("2f62"),d={name:"Profile",data:function(){return{avatar:""}},computed:Object(n["a"])({},Object(c["b"])(["myProfile","isLoading"])),methods:{handleUploadAvatar:function(){this.avatar=this.$refs.avatar.files[0]},submitAvatar:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var e,i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e=new FormData,e.append("image",t.$refs.avatar.files[0]),t.$store.dispatch("setLoading",!0),a.next=5,l.a.post("https://api.imgur.com/3/image",e,{headers:{Authorization:"Client-ID b9c913d9d32ae3c"}});case 5:return i=a.sent,a.next=8,l.a.post("/api/upload/avatar",{_id:t.myProfile._id,avatar:i.data.data.link},{headers:{"X-Requested-With":"XMLHttpRequest"}});case 8:r=a.sent,r.data.isError?t.$router.push("/notfound"):t.$router.go();case 10:case"end":return a.stop()}}),a)})))()},verifyEmail:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.$router.push("/verification"),a.next=3,l.a.post("/api/verifyEmail",{},{headers:{"X-Requested-With":"XMLHttpRequest"}});case 3:case"end":return a.stop()}}),a)})))()}},beforeCreate:function(){this.needAuthenticate()}},u=d,f=(e("6346"),e("2877")),m=Object(f["a"])(u,i,r,!1,null,null,null);a["default"]=m.exports}}]);
//# sourceMappingURL=chunk-9b6ae172.232adf76.js.map